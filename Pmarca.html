<!DOCTYPE html>
<html lang="es">
<head>
  <!-- üß† METADATOS Y ENLACES -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Libreria la Brigada</title>

  <!-- ‚úÖ Fuentes e √≠conos -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Open+Sans:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- üé® Hoja de estilos externa -->
  <link rel="stylesheet" href="Pmarca.css">
</head>

<body>

  <!-- üìû BARRA SUPERIOR DE CONTACTO -->
<div class="top-contact">
  <div class="contact-left">
    <span>üìû Cont√°ctanos al +502 4218 1632</span>
  </div>
  <div class="contact-right">
    <a href="https://www.facebook.com/share/17BnFnVbaf/?mibextid=wwXIfr" 
       target="_blank" 
       rel="noopener noreferrer">
      <i class="fab fa-facebook-f"></i>
    </a>
  </div>
</div>

  <!-- üß≠ ENCABEZADO PRINCIPAL -->
  <header class="main-header">
    <div class="nav-container">
      <div class="logo-area">
        <img src="LogoLibre.png" alt="Logo" class="logo-img" />
      </div>


  <div class="user-area">
  <span id="openForm" style="cursor:pointer;">
    <i class="fas fa-user-circle"></i> Formulario
  </span>
</div>
</div>

  <nav class="main-menu">
    <a href="index.html">Categor√≠as</a>
    <a href="Pmarca.html">Por Marca</a>
    <a href="MasVendidos.html">M√°s vendidos</a>
    <a href="Regreso.html">Regreso a clases</a>
    <a href="sobreNosotros.html">Sobre nosotros</a>
  </nav>
  </header>

  <!-- üîµ SECCI√ìN DE PRODUCTOS POR MARCA -->
  <section style="padding: 40px; background-color: #f9f9f9;">
    <div class="contenedor-principal" style="max-width: 1100px; margin: auto;">
      <!-- Filtro de marca -->
      <div style="display: flex; align-items: center; margin-bottom: 20px;">
        <label for="marca" style="margin-right: 10px; font-weight: bold;">Marca:</label>
        <select id="marca" style="padding: 8px; border-radius: 6px; border: 1px solid #ccc;">
          <option value="todas">Todas</option>
          <option value="bic">Bic</option>
          <option value="tucan">Tucan</option>
          <option value="mapped">Mapped</option>
        </select>
      </div>

<!-- Productos BIC -->
<div class="productos marca-bic">
  <h2 class="titulo-seccion">PRODUCTOS BIC</h2>
  <div class="grid-productos">
    <div class="producto-card">
      <img src="crayonesBic.png" alt="Crayones Bic">
      <h3>Crayones Bic</h3>
      <p>L√°pices de colores Bic evolution m√°s 2 l√°pices de grafito - 26 Uds.</p>
      <p><strong>Q20.00</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="lapicerosBIC.png" alt="Lapiceros BIC">
      <h3>Lapiceros BIC</h3>
      <p>Bol√≠grafo BIC, Punto mediano, 1mm, 2 piezas, Color Azul.</p>
      <p><strong>Q9.00</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="3LapicerosBic3.png" alt="Lapiceros de 3 colores BIC">
      <h3>Lapiceros de 3 colores BIC</h3>
      <p>Bic Boligrafo Punto Mediano Boligrafo Bic Dura.</p>
      <p><strong>Q12.00</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="plumonesBIC.png" alt="Plumones BIC">
      <h3>Plumones BIC</h3>
      <p>Plumones escolares BIC Intensity Up con 12 Piezas.</p>
      <p><strong>Q15.00</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
  </div>
</div>

<!-- Productos TUCAN -->
<div class="productos marca-tucan">
  <h2 class="titulo-seccion">PRODUCTOS TUCAN</h2>
  <div class="grid-productos">
    <div class="producto-card">
      <img src="Tempera.png" alt="Tempera">
      <h3>Tempera</h3>
      <p>Pintura Tucan.</p>
      <p><strong>Q4.50</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="marcador.png" alt="marcadores">
      <h3>marcadores Tucan</h3>
      <p>Organiza tus documentos con estilo y practicidad.</p>
      <p><strong>Q12.00</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="cera.png" alt="crayones">
      <h3>crayones</h3>
      <p>Precisi√≥n y durabilidad. Ideal para clases o dise√±o.</p>
      <p><strong>Q3.25</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="gomat.png" alt="goma">
      <h3>Goma Tucan</h3>
      <p>Adherencia fuerte y limpia. No t√≥xico y f√°cil de aplicar.</p>
      <p><strong>Q5.00</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
  </div>
</div>

<!-- Productos EDDING -->
<div class="productos marca-mapped">
  <h2 class="titulo-seccion">PRODUCTOS EDDING</h2>
  <div class="grid-productos">
    <div class="producto-card">
      <img src="rotuladorV.png" alt="rotulador verde">
      <h3>Rotulador verde</h3>
      <p>Para l√°pices normales y jumbo. Compacto y f√°cil de llevar.</p>
      <p><strong>Q4.50</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="rotulador3000.png" alt="rotulador negro">
      <h3>Rotulador negro 3000</h3>
      <p>Organiza tus documentos con estilo y practicidad.</p>
      <p><strong>Q12.00</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="edding363.png" alt="rotulador azul">
      <h3>Rotulador azul</h3>
      <p>Precisi√≥n y durabilidad. Ideal para clases o dise√±o.</p>
      <p><strong>Q3.25</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
    <div class="producto-card">
      <img src="edding390.png" alt="marcador verde">
      <h3>Marcador verde</h3>
      <p>Adherencia fuerte y limpia. No t√≥xico y f√°cil de aplicar.</p>
      <p><strong>Q5.00</strong></p>
      <button class="boton-agregar">Agregar</button>
    </div>
  </div>
</div>
  </section>

<!-- üì© FORMULARIO EN MODAL -->
<div id="formModal" class="modal">
  <div class="modal-content">
    <!-- Bot√≥n para cerrar el modal -->
    <span class="close">&times;</span>

    <!-- T√≠tulo del formulario dentro del modal -->
    <h2>üìå Env√≠anos tu consulta</h2>

    <!-- Formulario de reserva/consulta -->
    <form id="reservaForm">
      
      <!-- Campo para el nombre -->
      <label>Nombre completo *</label>
      <input type="text" id="nombre" required>

      <!-- Campo para el correo -->
      <label>Correo electr√≥nico *</label>
      <input type="email" id="email" required>

      <!-- Campo para el tel√©fono -->
      <label>Tel√©fono *</label>
      <input type="tel" id="telefono" required>

      <!-- Selecci√≥n del servicio o producto -->
      <label>Servicio / Producto *</label>
      <select id="servicio" required>
        <option value="">-- Selecciona --</option>
        <option value="libros">Libros</option>
        <option value="utiles">√ötiles escolares</option>
        <option value="otros">Otros</option>
      </select>

      <!-- Campo opcional para elegir fecha -->
      <label>Fecha de inter√©s</label>
      <input type="date" id="fecha">

      <!-- Campo para comentarios adicionales -->
      <label>Comentarios</label>
      <textarea id="comentarios" rows="4"></textarea>

      <!-- Bot√≥n para enviar el formulario -->
      <button id="btnEnviar" type="submit">üì§ Enviar</button>

      <!-- Mensaje de validaci√≥n o confirmaci√≥n -->
      <p id="mensaje"></p>
    </form>
  </div>
</div>

 <!-- üë£ PIE DE P√ÅGINA -->
<footer style="background-color: #050d2e; color: white; padding: 20px; text-align: center; margin-top: 60px;">
  <p>&copy; 2025 Librer√≠a Escolar. Todos los derechos reservados.</p>
  <div style="max-width: 1100px; margin: auto; display: flex; flex-wrap: wrap; justify-content: space-between; gap: 20px;">

    <!-- üè¢ Informaci√≥n de la empresa -->
    <div style="flex: 1 1 250px;">
      <h3 style="color: var(--naranja-vibrante); margin-bottom: 10px;">Librer√≠a La Brigada</h3>
      <p>Tu destino confiable para √∫tiles escolares, libros y m√°s.</p>
      <p><i class="fas fa-map-marker-alt"></i> 1 calle, 8 avenida La Brigada zona 7 de mixco Ciudad de Guatemala.</p>
      <p><i class="fas fa-phone"></i> +502 4218-1632</p>
      <p><i class="fas fa-envelope"></i> Cessiancabrera@gmail.com.com</p>
    </div>

    <!-- üîó Enlaces r√°pidos -->
    <div style="flex: 1 1 180px;">
      <h4 style="color: var(--naranja-vibrante); margin-bottom: 10px;">Enlaces r√°pidos</h4>
      <ul style="list-style: none; padding: 0;">
        <li><a href="index.html" style="color: white; text-decoration: none;">Inicio</a></li>
        <li><a href="Pmarca.html" style="color: white; text-decoration: none;">Por marca</a></li>
        <li><a href="MasVendidos.html" style="color: white; text-decoration: none;">Mas vendios</a></li>
        <li><a href="Regreso.html" style="color: white; text-decoration: none;">Regreso a clases</a></li>
        <li><a href="sobreNosotros.html" style="color: white; text-decoration: none;">Sobre nosotros</a></li>
      </ul>
    </div>

    <!-- üì≤ Redes sociales -->
    <div style="flex: 1 1 180px;">
      <h4 style="color: var(--naranja-vibrante); margin-bottom: 10px;">S√≠guenos</h4>
      <a href="https://www.facebook.com/share/17BnFnVbaf/?mibextid=wwXIfr" style="color: white; font-size: 20px; margin-right: 10px;"><i class="fab fa-facebook-f"></i></a>
    </div>
  </div>

  <!-- üí¨ Derechos reservados -->
  <div style="text-align: center; margin-top: 30px; border-top: 1px solid #444; padding-top: 15px;">
    ¬© 2025 Librer√≠a La Brigada. Todos los derechos reservados.
  </div>
</footer>

  <!-- üîÅ SCRIPT PARA FILTRAR -->
  <script>
    document.getElementById('marca').addEventListener('change', function () {
      const marcaSeleccionada = this.value;
      const secciones = document.querySelectorAll('.productos');

      secciones.forEach(seccion => {
        if (marcaSeleccionada === 'todas') {
          seccion.style.display = 'block';
        } else {
          if (seccion.classList.contains(`marca-${marcaSeleccionada}`)) {
            seccion.style.display = 'block';
          } else {
            seccion.style.display = 'none';
          }
        }
      });
    });
  </script>

 <!-- üîπ SCRIPT PARA ABRIR/CERRAR EL MODAL -->
<script>
  // Se obtiene el modal y los botones de abrir/cerrar
  const modal = document.getElementById("formModal");
  const btnOpen = document.getElementById("openForm");
  const btnClose = document.querySelector(".close");

  // Cuando se hace clic en el bot√≥n de abrir, se muestra el modal
  btnOpen.addEventListener("click", () => {
    modal.style.display = "flex";
  });

  // Cuando se hace clic en el bot√≥n de cerrar, se oculta el modal
  btnClose.addEventListener("click", () => {
    modal.style.display = "none";
  });

  // Si el usuario hace clic fuera del modal, este se cierra
  window.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.style.display = "none";
    }
  });
</script>

<!--FORM SCRIPT-->
<script type="module">
  // Importaci√≥n de los SDKs de Firebase desde la CDN
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  // Configuraci√≥n del proyecto en Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyBvSr5tcQ9D6qSHIpoFaD-DyhW2X5D2ClI",
    authDomain: "libreria-la-brigada.firebaseapp.com",
    projectId: "libreria-la-brigada",
    storageBucket: "libreria-la-brigada.appspot.com",
    messagingSenderId: "797710331008",
    appId: "1:797710331008:web:9b2cf2caba898c52ac0a65",
    measurementId: "G-TXJMRX7VYM"
  };

  // Inicializaci√≥n de Firebase y Firestore
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Funci√≥n auxiliar para seleccionar elementos del DOM
  const $ = (sel) => document.querySelector(sel);

  // Referencias a los elementos del formulario
  const form = $('#reservaForm');
  const btn  = $('#btnEnviar');
  const msg  = $('#mensaje');

  // Validaci√≥n de formato de email
  const isEmail = (v) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);

  // Validaci√≥n de formato de tel√©fono
  const isPhone = (v) => /^[0-9+\-\s]{8,}$/.test(v);

  // Manejo del evento de env√≠o del formulario
  form.addEventListener('submit', async (e) => {
    e.preventDefault(); // Evita el env√≠o tradicional del formulario

    // Obtiene los valores de los campos del formulario
    const nombre = $('#nombre').value.trim();
    const email = $('#email').value.trim();
    const telefono = $('#telefono').value.trim();
    const servicio = $('#servicio').value;
    const fechaStr = $('#fecha').value;
    const comentarios = $('#comentarios').value.trim();

    // Validaci√≥n de los campos obligatorios
    if (!nombre || !isEmail(email) || !isPhone(telefono) || !servicio) {
      msg.textContent = "‚ùó Revisa los campos obligatorios.";
      msg.style.color = "#b10039";
      return;
    }

    // Prepara los datos que se enviar√°n a Firestore
    const data = {
      nombre,
      email,
      telefono,
      servicio,
      fecha: fechaStr || null,
      comentarios,
      createdAt: serverTimestamp()
    };

    // Intenta guardar la informaci√≥n en Firestore
    try {
      btn.disabled = true; // Desactiva el bot√≥n durante el proceso
      btn.textContent = "Guardando...";
      const ref = await addDoc(collection(db, "reservas"), data);

      // Mensaje de √©xito si se guarda correctamente
      msg.textContent = "‚úÖ Reserva guardada correctamente. ID: " + ref.id;
      msg.style.color = "#0e7c3a";
      form.reset(); // Limpia los campos del formulario
    } catch (err) {
      // Mensaje de error si falla el guardado
      console.error(err);
      msg.textContent = "‚ùå Error al guardar la reserva. Intenta de nuevo.";
      msg.style.color = "#b10039";
    } finally {
      // Reactiva el bot√≥n y restaura el texto
      btn.disabled = false;
      btn.textContent = "üì§ Enviar";
    }
  });
  </script>
</body>
</html>
